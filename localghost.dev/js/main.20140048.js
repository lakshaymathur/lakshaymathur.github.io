let prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches;function pictureEl(e,t){return`
<picture>
    <source srcset="/img/geocities/${e}.gif" 
    media="(prefers-reduced-motion: no-preference)">
    <img src="/img/geocities/static/${e}.png" 
    alt="${t}" />
  </picture>`}function contentStart(e){return pictureEl("welcome","Welcome to my Homepage")+"<p>Thanks for visiting!</p>"}function contentEnd(e){return"<p>This site is</p>"+pictureEl("consbar","under construction")+pictureEl("flames","")+'<p>You are visitor number <img src="/img/geocities/static/counter.png" alt="hit counter showing 2147483648" /></p>'}document.documentElement.classList.remove("no-js");let currentPage=window.location.pathname,THEME_STORAGE_KEY="user-theme",THEMES={city:"city",sunset:"sunset",minimalist:"minimalist",vaporwave:"vaporwave",garden:"garden",geocities:"geocities",twothousandandthree:"twothousandandthree"},palmtrees=[],skyscrapers=[],themeOptions=[],theme="";function initThemes(){var e=new URLSearchParams(window.location.search);changeTheme(theme=e.get("theme")||localStorage.getItem(THEME_STORAGE_KEY)||"garden")}function changeTheme(t){if(Object.keys(THEMES).includes(t)||(t="garden"),localStorage.setItem(THEME_STORAGE_KEY,t),document.documentElement.setAttribute("data-theme",t),0<themeOptions.length&&(themeOptions.find(e=>e.id===t).checked=!0),theme!==t)switch(theme){case"geocities":cleanupGeocities();break;case"twothousandandthree":clear2003Stuff();break;case"garden":cleanupGarden()}switch(t){case"geocities":"/"===currentPage&&injectGeocitiesGoodness(),0<palmtrees.length&&new fairyDustCursor({colors:["#F5B5FC","#96F7D2","#FCB1B1"]});break;case"twothousandandthree":inject2003Stuff();break;case"garden":injectGardenPizazz()}theme=t}function hideElement(e){e.classList.add("hidden")}function showElement(e){e.classList.remove("hidden")}function eventListener(e){e.target.checked&&changeTheme(e.target.value)}function cleanupGeocities(){destroyCursor(),"geocities"===theme&&"/"===currentPage&&clearGeocitiesRubbish()}initThemes(),window.addEventListener("load",()=>{skyscrapers=Array.from(document.getElementsByClassName("skyscraper")),palmtrees=Array.from(document.getElementsByClassName("palmtree")),(themeOptions=Array.from(document.getElementsByClassName("theme-option"))).forEach(e=>addEventListener("change",eventListener)),changeTheme(theme)}),window.addEventListener("unload",()=>{themeOptions.forEach(e=>removeEventListener("change",eventListener))});let skipAnim=prefersReducedMotion.matches;function fairyDustCursor(e){if(skipAnim)return!1;let n=e&&e.colors||["#D61C59","#E7D84B","#1B8798"],i=e&&e.element,o=i||document.body,t=window.innerWidth,a=window.innerHeight,s={x:t/2,y:t/2},r={x:t/2,y:t/2},c=[],d=[],l,h;function m(e){t=window.innerWidth,a=window.innerHeight,i?(l.width=o.clientWidth,l.height=o.clientHeight):(l.width=t,l.height=a)}function u(t){if(0<t.touches.length)for(let e=0;e<t.touches.length;e++)g(t.touches[e].clientX,t.touches[e].clientY,d[Math.floor(Math.random()*d.length)])}function p(t){window.requestAnimationFrame(()=>{i?(e=o.getBoundingClientRect(),s.x=t.clientX-e.left,s.y=t.clientY-e.top):(s.x=t.clientX,s.y=t.clientY);var e=Math.hypot(s.x-r.x,s.y-r.y);1.5<e&&(g(s.x,s.y,d[Math.floor(Math.random()*n.length)]),r.x=s.x,r.y=s.y)})}function g(e,t,n){c.push(new y(e,t,n))}function f(){h.clearRect(0,0,t,a);for(let e=0;e<c.length;e++)c[e].update(h);for(let e=c.length-1;0<=e;e--)c[e].lifeSpan<0&&c.splice(e,1);requestAnimationFrame(f)}function y(e,t,n){var i=Math.floor(30*Math.random()+60);this.initialLifeSpan=i,this.lifeSpan=i,this.velocity={x:(Math.random()<.5?-1:1)*(Math.random()/2),y:.7*Math.random()+.9},this.position={x:e,y:t},this.canv=n,this.update=function(e){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.lifeSpan--,this.velocity.y+=.02;var t=Math.max(this.lifeSpan/this.initialLifeSpan,0);e.drawImage(this.canv,this.position.x-this.canv.width/2*t,this.position.y-this.canv.height/2,this.canv.width*t,this.canv.height*t)}}(l=document.createElement("canvas")).id="cursor-canvas",h=l.getContext("2d"),l.style.top="0px",l.style.left="0px",l.style.pointerEvents="none",i?(l.style.position="absolute",o.appendChild(l),l.width=o.clientWidth,l.height=o.clientHeight):(l.style.position="fixed",o.appendChild(l),l.width=t,l.height=a),h.font="15px serif",h.textBaseline="middle",h.textAlign="center",n.forEach(e=>{var t=h.measureText("★"),n=document.createElement("canvas"),i=n.getContext("2d");n.width=t.width,n.height=t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,i.fillStyle=e,i.textAlign="center",i.font="15px serif",i.textBaseline="middle",i.fillText("★",n.width/2,t.actualBoundingBoxAscent),d.push(n)}),o.addEventListener("mousemove",p),o.addEventListener("touchmove",u,{passive:!0}),o.addEventListener("touchstart",u,{passive:!0}),window.addEventListener("resize",m),f()}function destroyCursor(){var e=document.getElementById("cursor-canvas");e&&e.remove()}function injectGeocitiesGoodness(){var e=document.getElementById("content-start"),t=document.getElementById("content-end");e&&t&&(e.innerHTML=contentStart(prefersReducedMotion),t.innerHTML=contentEnd(prefersReducedMotion))}function clearGeocitiesRubbish(){var e=document.getElementById("content-start"),t=document.getElementById("content-end");e&&t&&(e.innerHTML="",t.innerHTML="")}function clear2003Stuff(){var e=document.querySelector(".sidebar-extras");e&&e.remove()}function inject2003Stuff(){var e,t,n=document.getElementsByClassName("sidebar")[0];n&&((e=document.createElement("div")).classList.add("sidebar-extras"),(t=document.createElement("section")).innerHTML=`<div class="sidebar-stats"><p>v3.5 // since 2019, like it's 2003.</p><p>host: <a href="https://neocities.org">neocities</a></p></div>`,e.appendChild(t),(t=document.createElement("section")).innerHTML=`<p>currently</p><dl class="php-currently"><dt>Drinking:</dt><dd>sparkling water</dd><dt>Listening to:</dt><dd>lo-fi beats to build retro websites to</dd><dt>Wearing:</dt><dd><a href="https://dogecore.com">dogecore</a>, probably</dd><dt>Talking to:</dt><dd>anyone who'll listen on <a href="https://social.lol/@sophie">mastodon</a></dd></dl><p>not powered by <a href="https://web.archive.org/web/20030803171648/http://www.codegrrl.com/scripts/phpcurrently/index.php" target="_blank" rel="noopener">PHPCurrently</a>`,e.appendChild(t),n.appendChild(e))}function injectGardenPizazz(){var t=document.getElementsByTagName("header")[0];if(t){let e=document.createElement("button");var n=document.createElement("img");n.src="/img/garden-theme/red-admiral.png",e.classList.add("butterfly"),e.ariaHidden=!0,e.id="butterfly",e.onclick=function(){e.classList.add("tweened"),setTimeout(()=>{e.classList.remove("tweened")},4e3)},e.appendChild(n),t.appendChild(e)}}function cleanupGarden(){var e=document.getElementById("butterfly");e&&e.remove()}prefersReducedMotion.onchange=()=>{skipAnim=prefersReducedMotion.matches};